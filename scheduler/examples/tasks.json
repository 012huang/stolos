{
  "test_scheduler/test_app": {
     "pymodule": "scheduler.examples.tasks.test_task",
     "job_type": "pyspark"
 },
 "test_scheduler/test_app2": {
     "pymodule": "scheduler.examples.tasks.test_task",
     "depends_on": {"app_name": ["test_scheduler/test_app"]},
     "valid_if_or": {"collection_name": ["profile", "purchase"]},
     "job_type": "pyspark"
 },
 "test_scheduler/test_bash": {
     "job_type": "bash"
 },
 "test_scheduler/test_bash2": {
     "depends_on": {"app_name": ["test_scheduler/test_bash"]},
     "job_type": "bash",
     "bash_opts": "echo 123"
 },

 "test_scheduler/test_pyspark": {
     "job_type": "pyspark",
     "pymodule": "scheduler.examples.tasks.pyspark_example"
 },

  "test_scheduler/test_depends_on": {
     "job_id": "{date}_{testID}",
     "depends_on": {
       "depgrp1": [{
         "app_name": ["test_scheduler/test_app2", "test_scheduler/test_app"],
         "collection_name": ["profile", "purchase"],
         "date": [20140601],
         "client_id": [876, 1011, 9020],
         "testID": [1]
         }, {
         "app_name": ["test_scheduler/test_app"],
         "job_id": ["20140601_999_purchase"],
         "testID": [1]
       }],
       "depgrp2": {
         "app_name": ["test_scheduler/test_pyspark"],
         "collection_name": ["profile"],
         "date": [20140601],
         "client_id": [876, 1011, 9020],
         "testID": [2]
       },
       "depgrp3": {
         "app_name": ["test_scheduler/test_app"],
         "collection_name": ["profile"],
         "date": [20140601],
         "client_id": [876],
         "testID": [3]
       },
       "depgrp4": {
         "app_name": ["test_scheduler/test_app"],
         "collection_name": ["profile"],
         "date": [20140601],
         "client_id": [444],
         "testID": [3]
       }
     },
     "job_type": "bash",
  },
  "test_scheduler/test_topological_sort": {
    "job_id": "{date}_{testID}",
    "job_type": "bash",
    "depends_on": {
      "dep1": [
        {"app_name": ["test_scheduler/test_depends_on"],
         "date": [20140601],
         "testID": [1]
        }, {
         "app_name": [
           "test_scheduler/test_app",
           "test_scheduler/test_app2",
           "test_scheduler/test_bash2"],
         "client_id": [101, 102],
         "collection_name": ["profile"],
         "date": [20140601],
         "testID": [1]
        }
      ]
    }
  }
}
